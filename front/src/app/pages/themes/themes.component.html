<div class="nav-page-container">
  <!-- Header Navigation -->
  <header class="nav-page-header">
    <div class="header-left">
      <img src="/assets/logo_p6.png" alt="MDD Logo" class="logo" />
    </div>
    
    <!-- Desktop Navigation -->
    <nav class="nav-desktop">
      <button mat-button class="nav-button disconnect-btn" (click)="onDisconnect()">
        Se déconnecter
      </button>
      <button mat-button class="nav-button" (click)="onNavigateToArticles()">
        Articles
      </button>
      <button mat-button class="nav-button active" (click)="onNavigateToThemes()">
        Thèmes
      </button>
      <button class="profile-btn" (click)="onNavigateToProfile()">
        <img src="/assets/UserProfil.png" alt="Profil" class="profile-img" />
      </button>
    </nav>

    <!-- Mobile Menu Button -->
    <div class="mobile-menu">
      <button mat-icon-button class="menu-btn" (click)="toggleMobileMenu()">
        <mat-icon>menu</mat-icon>
      </button>
    </div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-overlay" [class.show]="isMobileMenuOpen" (click)="toggleMobileMenu()"></div>

    <!-- Mobile Menu Dropdown -->
    <div class="mobile-dropdown" [class.show]="isMobileMenuOpen">
      <div class="mobile-nav-content">
        <button mat-button class="mobile-nav-item" (click)="onDisconnect()">
          Se déconnecter
        </button>
        <button mat-button class="mobile-nav-item" (click)="onNavigateToArticles()">
          Articles
        </button>
        <button mat-button class="mobile-nav-item active" (click)="onNavigateToThemes()">
          Thèmes
        </button>
      </div>
      <div class="mobile-profile-section">
        <button class="mobile-profile-btn" (click)="onNavigateToProfile()">
          <img src="/assets/UserProfil.png" alt="Profil" class="profile-img" />
        </button>
      </div>
    </div>
  </header>

  <!-- Content Area -->
  <main class="nav-page-content">
    <div class="content-grid">
      <div class="base-card theme-card" *ngFor="let theme of themes; trackBy: trackByThemeId">
        <div class="card-content-area">
          <h3 class="card-title">{{ theme.title }}</h3>
          <p class="card-description">{{ theme.description }}</p>
        </div>
        <button 
          mat-raised-button 
          [color]="theme.subscribed ? 'accent' : 'primary'" 
          class="card-action-btn"
          (click)="toggleSubscription(theme)">
          {{ theme.subscribed ? 'Déjà abonné' : 'S\'abonner' }}
        </button>
      </div>
    </div>
  </main>
</div>
