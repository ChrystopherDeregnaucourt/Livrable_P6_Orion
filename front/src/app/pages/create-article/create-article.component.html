<div class="nav-page-container">
  <!-- Header Navigation -->
  <header class="nav-page-header">
    <div class="header-left">
      <img src="/assets/logo_p6.png" alt="MDD Logo" class="logo" />
    </div>
    
    <!-- Desktop Navigation -->
    <nav class="nav-desktop">
      <button mat-button class="nav-button disconnect-btn" (click)="onDisconnect()">
        Se déconnecter
      </button>
      <button mat-button class="nav-button" (click)="onNavigateToArticles()">
        Articles
      </button>
      <button mat-button class="nav-button" (click)="onNavigateToThemes()">
        Thèmes
      </button>
      <button class="profile-btn" (click)="onNavigateToProfile()">
        <img src="/assets/UserProfil.png" alt="Profil" class="profile-img" />
      </button>
    </nav>

    <!-- Mobile Menu Button -->
    <div class="mobile-menu">
      <button mat-icon-button class="menu-btn" (click)="toggleMobileMenu()">
        <mat-icon>menu</mat-icon>
      </button>
    </div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-overlay" [class.show]="isMobileMenuOpen" (click)="toggleMobileMenu()"></div>

    <!-- Mobile Menu Dropdown -->
    <div class="mobile-dropdown" [class.show]="isMobileMenuOpen">
      <div class="mobile-nav-content">
        <button mat-button class="mobile-nav-item" (click)="onDisconnect()">
          Se déconnecter
        </button>
        <button mat-button class="mobile-nav-item" (click)="onNavigateToArticles()">
          Articles
        </button>
        <button mat-button class="mobile-nav-item" (click)="onNavigateToThemes()">
          Thèmes
        </button>
      </div>
      <div class="mobile-profile-section">
        <button class="mobile-profile-btn" (click)="onNavigateToProfile()">
          <img src="/assets/UserProfil.png" alt="Profil" class="profile-img" />
        </button>
      </div>
    </div>
  </header>

  <!-- Content Area -->
  <main class="nav-page-content">
    <div class="create-article-container">
      <!-- Back Button -->
      <button mat-icon-button class="back-btn" (click)="onGoBack()">
        <mat-icon>arrow_back</mat-icon>
      </button>

      <!-- Title -->
      <h1 class="page-title">Créer un nouvel article</h1>

      <!-- Form -->
      <form [formGroup]="articleForm" (ngSubmit)="onSubmit()" class="article-form">
        <!-- Theme Select -->
        <div class="form-field">
          <select 
            class="form-select" 
            formControlName="theme"
            [class.error]="articleForm.get('theme')?.invalid && articleForm.get('theme')?.touched">
            <option value="" disabled>Sélectionner un thème</option>
            <option *ngFor="let theme of themes" [value]="theme.id">{{ theme.name }}</option>
          </select>
        </div>

        <!-- Title Input -->
        <div class="form-field">
          <input 
            type="text" 
            class="form-input" 
            placeholder="Titre de l'article"
            formControlName="title"
            [class.error]="articleForm.get('title')?.invalid && articleForm.get('title')?.touched">
        </div>

        <!-- Content Textarea -->
        <div class="form-field">
          <textarea 
            class="form-textarea" 
            placeholder="Contenu de l'article"
            formControlName="content"
            rows="10"
            [class.error]="articleForm.get('content')?.invalid && articleForm.get('content')?.touched">
          </textarea>
        </div>

        <!-- Submit Button -->
        <button 
          mat-raised-button 
          type="submit" 
          class="submit-btn"
          [disabled]="articleForm.invalid">
          Créer
        </button>
      </form>
    </div>
  </main>
</div>
